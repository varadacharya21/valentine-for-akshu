<!DOCTYPE html>
<html>
<head>
    <title>For Akshu ‚ù§Ô∏è</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(45deg, #ff758c, #ff7eb3);
            height: 100vh;
            overflow: hidden;
            color: white;
        }

        h1 { 
            text-align: center; 
            margin-top: 10%; 
            font-size: 36px; 
        }

        img.main-photo {
            width: 220px;
            border-radius: 20px;
            margin: 20px 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        button {
            padding: 12px 25px;
            font-size: 18px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            margin: 15px;
        }

        #yes { background: #ff2e63; color: white; }
        #no  { background: #555; color: white; position: absolute; }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1; /* fireworks behind content */
        }

        .floating {
            position: fixed;
            font-size: 28px;
            animation: floatUp 6s linear infinite;
        }

        @keyframes floatUp {
            from { transform: translateY(100vh); opacity: 1; }
            to { transform: translateY(-10vh); opacity: 0; }
        }

        .typing {
            font-size: 42px;
            font-weight: bold;
            border-right: 3px solid white;
            display: inline-block;
            white-space: nowrap;
            overflow: hidden;
            text-align: center;
        }

        .love-gif {
            width: 50%;
            max-width: 500px;
            margin-top: 20px;
            border-radius: 20px;
        }

        #yesContent {
            position: relative;
            z-index: 10; 
            display: flex;
            flex-direction: column;
            justify-content: center; /* vertical center */
            align-items: center;    /* horizontal center */
            height: 100vh;
            text-align: center;
        }
    </style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="song.mp3" type="audio/mpeg">
</audio>

<h1>Akshu‚Ä¶ will you be Varad‚Äôs Valentine? üòè‚ù§Ô∏è</h1>
<img src="us.jpg" alt="Us together" class="main-photo">

<div>
    <button id="yes" onclick="yesClicked()">Yes obviously üíï</button>
    <button id="no" onmouseover="moveButton()">No üôà</button>
</div>

<canvas id="fireworks"></canvas>

<script>
function yesClicked() {
    const music = document.getElementById("bgMusic");
    music.play().catch(() => {
        document.body.addEventListener('click', () => music.play(), {once:true});
    });

    // Append yesContent without removing canvas
    document.body.innerHTML += `
        <div id="yesContent">
            <div class="typing" id="typingText"></div>
            <p>You are officially stuck with Varad forever ü§≠üíç</p>
            <img src="love.gif" alt="Love GIF" class="love-gif">
        </div>
    `;

    typeText("Akshu‚Ä¶ ‚ù§Ô∏è");
    startFireworks();
    startFloating();
}

function typeText(text) {
    let i = 0;
    const speed = 120;
    const target = document.getElementById("typingText");

    function typing() {
        if (i < text.length) {
            target.innerHTML += text.charAt(i);
            i++;
            setTimeout(typing, speed);
        }
    }
    typing();
}

function moveButton() {
    var btn = document.getElementById("no");
    btn.style.top = Math.random() * window.innerHeight + "px";
    btn.style.left = Math.random() * window.innerWidth + "px";
}

/* üéÜ FIREWORKS */
function startFireworks() {
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const particles = [];

    function createFirework() {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height / 2;
        for (let i = 0; i < 50; i++) {
            particles.push({
                x, y,
                angle: Math.random() * 2 * Math.PI,
                speed: Math.random() * 5 + 2,
                radius: 2
            });
        }
    }

    function animate() {
        ctx.fillStyle = "rgba(0,0,0,0.2)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        particles.forEach((p, i) => {
            p.x += Math.cos(p.angle) * p.speed;
            p.y += Math.sin(p.angle) * p.speed;
            p.speed *= 0.98;
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
            ctx.fillStyle = "white";
            ctx.fill();
            if (p.speed < 0.5) particles.splice(i, 1);
        });

        requestAnimationFrame(animate);
    }

    setInterval(createFirework, 800);
    animate();
}

/* üíï HEARTS & üå∑ TULIPS */
function startFloating() {
    setInterval(() => {
        const el = document.createElement("div");
        el.className = "floating";
        el.style.left = Math.random() * 100 + "vw";

        const emojis = ["üíñ", "üíï", "üíò", "üå∑", "üå∏"];
        el.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];

        document.body.appendChild(el);
        setTimeout(() => el.remove(), 6000);
    }, 300);
}
</script>

</body>
</html>
